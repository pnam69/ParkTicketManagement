@{
    ViewData["Title"] = "Quản Lý Nhân Viên";
}

<div class="page-heading">
    <div class="d-flex justify-content-between align-items-center">
        <h3>Quản Lý Nhân Viên</h3>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a asp-controller="Dashboard" asp-action="Index">Trang Chủ</a></li>
                <li class="breadcrumb-item active" aria-current="page">Nhân Viên</li>
            </ol>
        </nav>
    </div>
</div>

<div class="page-content">
    <!-- Statistics Cards -->
    <div class="row">
        <div class="col-6 col-lg-3 col-md-6">
            <div class="card">
                <div class="card-body px-4 py-4-5">
                    <div class="row">
                        <div class="col-md-4 col-lg-12 col-xl-12 col-xxl-5 d-flex justify-content-start">
                            <div class="stats-icon blue mb-2">
                                <i class="iconly-boldProfile"></i>
                            </div>
                        </div>
                        <div class="col-md-8 col-lg-12 col-xl-12 col-xxl-7">
                            <h6 class="text-muted font-semibold">Tổng Nhân Viên</h6>
                            <h6 class="font-extrabold mb-0">24</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-6 col-lg-3 col-md-6">
            <div class="card">
                <div class="card-body px-4 py-4-5">
                    <div class="row">
                        <div class="col-md-4 col-lg-12 col-xl-12 col-xxl-5 d-flex justify-content-start">
                            <div class="stats-icon green mb-2">
                                <i class="iconly-boldWork"></i>
                            </div>
                        </div>
                        <div class="col-md-8 col-lg-12 col-xl-12 col-xxl-7">
                            <h6 class="text-muted font-semibold">Đang Làm Việc</h6>
                            <h6 class="font-extrabold mb-0">20</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-6 col-lg-3 col-md-6">
            <div class="card">
                <div class="card-body px-4 py-4-5">
                    <div class="row">
                        <div class="col-md-4 col-lg-12 col-xl-12 col-xxl-5 d-flex justify-content-start">
                            <div class="stats-icon purple mb-2">
                                <i class="iconly-boldShield-Done"></i>
                            </div>
                        </div>
                        <div class="col-md-8 col-lg-12 col-xl-12 col-xxl-7">
                            <h6 class="text-muted font-semibold">Quản Lý</h6>
                            <h6 class="font-extrabold mb-0">2</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-6 col-lg-3 col-md-6">
            <div class="card">
                <div class="card-body px-4 py-4-5">
                    <div class="row">
                        <div class="col-md-4 col-lg-12 col-xl-12 col-xxl-5 d-flex justify-content-start">
                            <div class="stats-icon red mb-2">
                                <i class="iconly-boldTime-Circle"></i>
                            </div>
                        </div>
                        <div class="col-md-8 col-lg-12 col-xl-12 col-xxl-7">
                            <h6 class="text-muted font-semibold">Tạm Nghỉ</h6>
                            <h6 class="font-extrabold mb-0">4</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Filters & Add Button -->
    <div class="card">
        <div class="card-body">
            <div class="row g-3">
                <div class="col-md-3">
                    <input type="text" class="form-control" id="searchInput" placeholder="Tìm theo tên hoặc SĐT...">
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="filterRole">
                        <option value="">Tất cả vai trò</option>
                        <option value="manager">Quản Lý</option>
                        <option value="cashier">Thu Ngân</option>
                        <option value="guard">Bảo Vệ</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="filterStatus">
                        <option value="">Tất cả trạng thái</option>
                        <option value="active">Hoạt Động</option>
                        <option value="onleave">Tạm Nghỉ</option>
                        <option value="resigned">Nghỉ Việc</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <button class="btn btn-primary" id="filterBtn">
                        <i class="bi bi-funnel me-2"></i>Lọc
                    </button>
                    <button class="btn btn-outline-secondary" id="resetBtn">
                        <i class="bi bi-arrow-clockwise"></i>
                    </button>
                </div>
                <div class="col-md-2">
                    <button class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#addEmployeeModal">
                        <i class="bi bi-plus-circle me-2"></i>Thêm Nhân Viên
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Employees Table -->
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h4 class="mb-0">Danh Sách Nhân Viên</h4>
            <div>
                <button class="btn btn-sm btn-outline-primary me-2">
                    <i class="bi bi-arrow-clockwise"></i>
                </button>
                <button class="btn btn-sm btn-primary">
                    <i class="bi bi-download me-2"></i>Xuất Excel
                </button>
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover table-lg" id="employeeTable">
                    <thead>
                        <tr>
                            <th>Mã NV</th>
                            <th>Họ Tên</th>
                            <th>Số Điện Thoại</th>
                            <th>Email</th>
                            <th>Vai Trò</th>
                            <th>Ngày Vào Làm</th>
                            <th>Trạng Thái</th>
                            <th>Thao Tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Manager -->
                        <tr>
                            <td class="font-bold">#NV-001</td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="avatar avatar-md me-3">
                                        <img src="~/assets/compiled/jpg/1.jpg" alt="Avatar">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Nguyễn Văn An</h6>
                                        <small class="text-muted">Nam, 35 tuổi</small>
                                    </div>
                                </div>
                            </td>
                            <td>0901234567</td>
                            <td>an.nguyen@@parking.vn</td>
                            <td><span class="badge bg-primary"><i class="bi bi-shield-check me-1"></i>Quản Lý</span></td>
                            <td>01/01/2020</td>
                            <td><span class="badge bg-success">Hoạt Động</span></td>
                            <td>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-primary" title="Xem chi tiết" onclick="viewEmployee(1)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-warning" title="Chỉnh sửa" onclick="editEmployee(1)">
                                        <i class="bi bi-pencil-square"></i>
                                    </button>
                                    <button type="button" class="btn btn-danger" title="Xóa" onclick="deleteEmployee(1)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>

                        <!-- Cashiers -->
                        <tr>
                            <td class="font-bold">#NV-002</td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="avatar avatar-md me-3">
                                        <img src="~/assets/compiled/jpg/2.jpg" alt="Avatar">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Trần Thị Bình</h6>
                                        <small class="text-muted">Nữ, 28 tuổi</small>
                                    </div>
                                </div>
                            </td>
                            <td>0912345678</td>
                            <td>binh.tran@@parking.vn</td>
                            <td><span class="badge bg-info"><i class="bi bi-cash-coin me-1"></i>Thu Ngân</span></td>
                            <td>15/03/2021</td>
                            <td><span class="badge bg-success">Hoạt Động</span></td>
                            <td>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-primary" onclick="viewEmployee(2)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-warning" onclick="editEmployee(2)">
                                        <i class="bi bi-pencil-square"></i>
                                    </button>
                                    <button type="button" class="btn btn-danger" onclick="deleteEmployee(2)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td class="font-bold">#NV-003</td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="avatar avatar-md me-3">
                                        <img src="~/assets/compiled/jpg/5.jpg" alt="Avatar">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Lê Văn Cường</h6>
                                        <small class="text-muted">Nam, 25 tuổi</small>
                                    </div>
                                </div>
                            </td>
                            <td>0923456789</td>
                            <td>cuong.le@@parking.vn</td>
                            <td><span class="badge bg-info"><i class="bi bi-cash-coin me-1"></i>Thu Ngân</span></td>
                            <td>10/06/2022</td>
                            <td><span class="badge bg-success">Hoạt Động</span></td>
                            <td>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-primary" onclick="viewEmployee(3)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-warning" onclick="editEmployee(3)">
                                        <i class="bi bi-pencil-square"></i>
                                    </button>
                                    <button type="button" class="btn btn-danger" onclick="deleteEmployee(3)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>

                        <!-- Guards -->
                        <tr>
                            <td class="font-bold">#NV-004</td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="avatar avatar-md me-3">
                                        <img src="~/assets/compiled/jpg/4.jpg" alt="Avatar">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Phạm Thị Dung</h6>
                                        <small class="text-muted">Nữ, 30 tuổi</small>
                                    </div>
                                </div>
                            </td>
                            <td>0934567890</td>
                            <td>dung.pham@@parking.vn</td>
                            <td><span class="badge bg-warning"><i class="bi bi-shield-lock me-1"></i>Bảo Vệ</span></td>
                            <td>20/08/2021</td>
                            <td><span class="badge bg-success">Hoạt Động</span></td>
                            <td>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-primary" onclick="viewEmployee(4)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-warning" onclick="editEmployee(4)">
                                        <i class="bi bi-pencil-square"></i>
                                    </button>
                                    <button type="button" class="btn btn-danger" onclick="deleteEmployee(4)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td class="font-bold">#NV-005</td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="avatar avatar-md me-3">
                                        <img src="~/assets/compiled/jpg/3.jpg" alt="Avatar">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Hoàng Văn Em</h6>
                                        <small class="text-muted">Nam, 27 tuổi</small>
                                    </div>
                                </div>
                            </td>
                            <td>0945678901</td>
                            <td>em.hoang@@parking.vn</td>
                            <td><span class="badge bg-warning"><i class="bi bi-shield-lock me-1"></i>Bảo Vệ</span></td>
                            <td>05/02/2022</td>
                            <td><span class="badge bg-success">Hoạt Động</span></td>
                            <td>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-primary" onclick="viewEmployee(5)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-warning" onclick="editEmployee(5)">
                                        <i class="bi bi-pencil-square"></i>
                                    </button>
                                    <button type="button" class="btn btn-danger" onclick="deleteEmployee(5)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>

                        <!-- On Leave Employee -->
                        <tr class="table-warning">
                            <td class="font-bold">#NV-006</td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="avatar avatar-md me-3">
                                        <img src="~/assets/compiled/jpg/6.jpg" alt="Avatar">
                                    </div>
                                    <div>
                                        <h6 class="mb-0">Vũ Thị Phượng</h6>
                                        <small class="text-muted">Nữ, 26 tuổi</small>
                                    </div>
                                </div>
                            </td>
                            <td>0956789012</td>
                            <td>phuong.vu@@parking.vn</td>
                            <td><span class="badge bg-info"><i class="bi bi-cash-coin me-1"></i>Thu Ngân</span></td>
                            <td>12/11/2022</td>
                            <td><span class="badge bg-warning">Tạm Nghỉ</span></td>
                            <td>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-primary" onclick="viewEmployee(6)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-warning" onclick="editEmployee(6)">
                                        <i class="bi bi-pencil-square"></i>
                                    </button>
                                    <button type="button" class="btn btn-success" title="Kích hoạt lại">
                                        <i class="bi bi-check-circle"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <nav aria-label="Page navigation" class="mt-4">
                <ul class="pagination justify-content-center">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Trước</a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Sau</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>

<!-- Add Employee Modal -->
<div class="modal fade" id="addEmployeeModal" tabindex="-1" aria-labelledby="addEmployeeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title text-white" id="addEmployeeModalLabel">
                    <i class="bi bi-person-plus-fill me-2"></i>Thêm Nhân Viên Mới
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addEmployeeForm">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="employeeName" class="form-label">Họ và Tên <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="employeeName" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="employeePhone" class="form-label">Số Điện Thoại <span class="text-danger">*</span></label>
                            <input type="tel" class="form-control" id="employeePhone" placeholder="0901234567" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="employeeEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="employeeEmail" placeholder="example@@parking.vn">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="employeeRole" class="form-label">Vai Trò <span class="text-danger">*</span></label>
                            <select class="form-select" id="employeeRole" required>
                                <option value="">Chọn vai trò</option>
                                <option value="manager">Quản Lý</option>
                                <option value="cashier">Thu Ngân</option>
                                <option value="guard">Bảo Vệ</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="employeeGender" class="form-label">Giới Tính</label>
                            <select class="form-select" id="employeeGender">
                                <option value="male">Nam</option>
                                <option value="female">Nữ</option>
                                <option value="other">Khác</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="employeeBirthdate" class="form-label">Ngày Sinh</label>
                            <input type="date" class="form-control" id="employeeBirthdate">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="employeeStartDate" class="form-label">Ngày Vào Làm <span class="text-danger">*</span></label>
                            <input type="date" class="form-control" id="employeeStartDate" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="employeeStatus" class="form-label">Trạng Thái</label>
                            <select class="form-select" id="employeeStatus">
                                <option value="active">Hoạt Động</option>
                                <option value="onleave">Tạm Nghỉ</option>
                                <option value="resigned">Nghỉ Việc</option>
                            </select>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="employeeAddress" class="form-label">Địa Chỉ</label>
                        <textarea class="form-control" id="employeeAddress" rows="2"></textarea>
                    </div>

                    <div class="mb-3">
                        <label for="employeePassword" class="form-label">Mật Khẩu <span class="text-danger">*</span></label>
                        <input type="password" class="form-control" id="employeePassword" required>
                        <small class="text-muted">Mật khẩu phải có ít nhất 6 ký tự</small>
                    </div>

                    <div class="mb-3">
                        <label for="employeeNotes" class="form-label">Ghi Chú</label>
                        <textarea class="form-control" id="employeeNotes" rows="2"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle me-2"></i>Hủy
                </button>
                <button type="button" class="btn btn-primary" onclick="saveEmployee()">
                    <i class="bi bi-save me-2"></i>Lưu Nhân Viên
                </button>
            </div>
        </div>
    </div>
</div>

<!-- View Employee Modal -->
<div class="modal fade" id="viewEmployeeModal" tabindex="-1" aria-labelledby="viewEmployeeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title text-white" id="viewEmployeeModalLabel">
                    <i class="bi bi-person-badge me-2"></i>Thông Tin Nhân Viên
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4 text-center mb-4">
                        <img src="~/assets/compiled/jpg/1.jpg" alt="Avatar" class="img-fluid rounded-circle mb-3" style="width: 150px; height: 150px; object-fit: cover;">
                        <h5 id="viewEmployeeName">Nguyễn Văn An</h5>
                        <span class="badge bg-primary" id="viewEmployeeRole">Quản Lý</span>
                    </div>
                    <div class="col-md-8">
                        <table class="table table-borderless">
                            <tbody>
                                <tr>
                                    <td class="fw-bold" style="width: 40%;">Mã Nhân Viên:</td>
                                    <td id="viewEmployeeId">#NV-001</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Số Điện Thoại:</td>
                                    <td id="viewEmployeePhone">0901234567</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Email:</td>
                                    <td id="viewEmployeeEmail">an.nguyen@@parking.vn</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Giới Tính:</td>
                                    <td id="viewEmployeeGender">Nam</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Ngày Sinh:</td>
                                    <td id="viewEmployeeBirthdate">15/05/1989</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Ngày Vào Làm:</td>
                                    <td id="viewEmployeeStartDate">01/01/2020</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Trạng Thái:</td>
                                    <td><span class="badge bg-success" id="viewEmployeeStatus">Hoạt Động</span></td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Địa Chỉ:</td>
                                    <td id="viewEmployeeAddress">123 Nguyễn Huệ, Q1, TP.HCM</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Performance Stats -->
                <div class="row mt-4">
                    <div class="col-12">
                        <h6 class="mb-3"><i class="bi bi-graph-up me-2"></i>Thống Kê Hiệu Suất</h6>
                    </div>
                    <div class="col-md-4">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h6 class="text-muted">Số Vé Phát</h6>
                                <h4 class="text-primary">1,245</h4>
                                <small class="text-muted">Tháng này</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h6 class="text-muted">Doanh Thu</h6>
                                <h4 class="text-success">125.5M đ</h4>
                                <small class="text-muted">Tháng này</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h6 class="text-muted">Đánh Giá</h6>
                                <h4 class="text-warning">
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-fill"></i>
                                    <i class="bi bi-star-half"></i>
                                </h4>
                                <small class="text-muted">4.5/5.0</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle me-2"></i>Đóng
                </button>
                <button type="button" class="btn btn-warning" onclick="editEmployeeFromView()">
                    <i class="bi bi-pencil-square me-2"></i>Chỉnh Sửa
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Employee Modal -->
<div class="modal fade" id="editEmployeeModal" tabindex="-1" aria-labelledby="editEmployeeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-warning text-white">
                <h5 class="modal-title text-white" id="editEmployeeModalLabel">
                    <i class="bi bi-pencil-square me-2"></i>Chỉnh Sửa Thông Tin Nhân Viên
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="editEmployeeForm">
                    <input type="hidden" id="editEmployeeId">
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="editEmployeeName" class="form-label">Họ và Tên <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="editEmployeeName" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="editEmployeePhone" class="form-label">Số Điện Thoại <span class="text-danger">*</span></label>
                            <input type="tel" class="form-control" id="editEmployeePhone" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="editEmployeeEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="editEmployeeEmail">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="editEmployeeRole" class="form-label">Vai Trò <span class="text-danger">*</span></label>
                            <select class="form-select" id="editEmployeeRole" required>
                                <option value="manager">Quản Lý</option>
                                <option value="cashier">Thu Ngân</option>
                                <option value="guard">Bảo Vệ</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="editEmployeeStatus" class="form-label">Trạng Thái</label>
                            <select class="form-select" id="editEmployeeStatus">
                                <option value="active">Hoạt Động</option>
                                <option value="onleave">Tạm Nghỉ</option>
                                <option value="resigned">Nghỉ Việc</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="editEmployeeGender" class="form-label">Giới Tính</label>
                            <select class="form-select" id="editEmployeeGender">
                                <option value="male">Nam</option>
                                <option value="female">Nữ</option>
                                <option value="other">Khác</option>
                            </select>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="editEmployeeAddress" class="form-label">Địa Chỉ</label>
                        <textarea class="form-control" id="editEmployeeAddress" rows="2"></textarea>
                    </div>

                    <div class="mb-3">
                        <label for="editEmployeeNotes" class="form-label">Ghi Chú</label>
                        <textarea class="form-control" id="editEmployeeNotes" rows="2"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle me-2"></i>Hủy
                </button>
                <button type="button" class="btn btn-warning" onclick="updateEmployee()">
                    <i class="bi bi-save me-2"></i>Cập Nhật
                </button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/assets/static/js/components/dark.js"></script>
    <script>
        // View Employee Details
        function viewEmployee(id) {
            // In production, fetch employee data from server
            $('#viewEmployeeModal').modal('show');
        }

        // Edit Employee
        function editEmployee(id) {
            // In production, fetch employee data and populate form
            $('#editEmployeeModal').modal('show');
        }

        // Edit from View Modal
        function editEmployeeFromView() {
            $('#viewEmployeeModal').modal('hide');
            setTimeout(() => {
                $('#editEmployeeModal').modal('show');
            }, 300);
        }

        // Save New Employee
        function saveEmployee() {
            const form = document.getElementById('addEmployeeForm');
            if (form.checkValidity()) {
                // In production, send data to server
                alert('Thêm nhân viên thành công!');
                $('#addEmployeeModal').modal('hide');
                form.reset();
            } else {
                form.reportValidity();
            }
        }

        // Update Employee
        function updateEmployee() {
            const form = document.getElementById('editEmployeeForm');
            if (form.checkValidity()) {
                // In production, send updated data to server
                alert('Cập nhật thông tin thành công!');
                $('#editEmployeeModal').modal('hide');
            } else {
                form.reportValidity();
            }
        }

        // Delete Employee
        function deleteEmployee(id) {
            if (confirm('Bạn có chắc chắn muốn xóa nhân viên này?')) {
                // In production, send delete request to server
                alert('Đã xóa nhân viên!');
                // Reload table
            }
        }

        // Filter functionality
        document.getElementById('filterBtn').addEventListener('click', function() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const role = document.getElementById('filterRole').value;
            const status = document.getElementById('filterStatus').value;
            
            // In production, filter table or fetch filtered data from server
            console.log('Filtering:', { search, role, status });
        });

        // Reset filters
        document.getElementById('resetBtn').addEventListener('click', function() {
            document.getElementById('searchInput').value = '';
            document.getElementById('filterRole').value = '';
            document.getElementById('filterStatus').value = '';
            // Reload table
        });

        // Auto-set today's date for start date
        document.getElementById('employeeStartDate').valueAsDate = new Date();
    </script>
}
